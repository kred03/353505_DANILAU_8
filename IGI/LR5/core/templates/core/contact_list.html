{% extends 'core/base.html' %}
{% load static %}

{% block title %}Контакты - Зоопарк{% endblock %}
{% block description %}Контактная информация зоопарка - телефоны, адреса, сотрудники{% endblock %}

{% block content %}
<main role="main">
    <div class="container-fluid px-2 px-md-4">
        <header class="text-center mb-5">
            <h1>Наши контакты</h1>
            <p class="lead">Свяжитесь с нами любым удобным способом</p>
        </header>

        {% if contacts %}
            <div class="row g-4">
                {% for contact in contacts %}
                <div class="col-md-6 col-lg-4">
                    <article class="card h-100 shadow-sm">
                        {% if contact.photo %}
                            <img src="{{ contact.photo.url }}" class="card-img-top" alt="{{ contact.name }}" style="height: 250px; object-fit: cover;">
                        {% else %}
                            <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 250px;">
                                <i class="bi bi-person text-muted" style="font-size: 4rem;"></i>
                            </div>
                        {% endif %}
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">{{ contact.name }}</h5>
                            <p class="text-muted mb-2">{{ contact.position }}</p>
                            
                            {% if contact.description %}
                                <p class="card-text flex-grow-1">{{ contact.description|truncatewords:20 }}</p>
                            {% endif %}
                            
                            <div class="mt-auto">
                                {% if contact.phone %}
                                    <p class="mb-1">
                                        <i class="bi bi-telephone" aria-hidden="true"></i>
                                        <a href="tel:{{ contact.phone }}" class="text-decoration-none">{{ contact.phone }}</a>
                                    </p>
                                {% endif %}
                                
                                {% if contact.email %}
                                    <p class="mb-0">
                                        <i class="bi bi-envelope" aria-hidden="true"></i>
                                        <a href="mailto:{{ contact.email }}" class="text-decoration-none">{{ contact.email }}</a>
                                    </p>
                                {% endif %}
                            </div>
                        </div>
                    </article>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-5">
                <i class="bi bi-telephone text-muted" style="font-size: 4rem;"></i>
                <h3 class="text-muted mt-3">Контакты</h3>
                <p class="text-muted">Контактная информация пока не добавлена</p>
            </div>
        {% endif %}

        <!-- Общая контактная информация -->
        <section class="mt-5">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h2 class="h5 mb-0">Общая информация</h2>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h3>Адрес</h3>
                            <address>
                                <strong>Зоопарк</strong><br>
                                ул. Зоологическая, 1<br>
                                г. Минск, 220000<br>
                                Республика Беларусь
                            </address>
                        </div>
                        <div class="col-md-6">
                            <h3>Режим работы</h3>
                            <dl class="row">
                                <dt class="col-sm-4">Пн-Пт:</dt>
                                <dd class="col-sm-8">9:00 - 18:00</dd>
                                <dt class="col-sm-4">Сб-Вс:</dt>
                                <dd class="col-sm-8">9:00 - 19:00</dd>
                                <dt class="col-sm-4">Праздники:</dt>
                                <dd class="col-sm-8">10:00 - 17:00</dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Карта -->
        <section class="mt-5">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h2 class="h5 mb-0">Как нас найти</h2>
                </div>
                <div class="card-body">
                    <div class="ratio ratio-16x9">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2350.123456789!2d27.567890!3d53.901234!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46dbcf1234567890%3A0x1234567890abcdef!2sZoo!5e0!3m2!1sen!2sby!4v1234567890"
                            title="Карта расположения зоопарка"
                            allowfullscreen>
                        </iframe>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
{% endblock %}
