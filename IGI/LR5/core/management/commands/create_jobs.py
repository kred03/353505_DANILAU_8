from django.core.management.base import BaseCommand
from core.models import Job
from django.utils import timezone

class Command(BaseCommand):
    help = 'Creates sample job listings'

    def handle(self, *args, **options):
        jobs = [
            {
                'title': 'Водитель-экспедитор',
                'description': '''Мы ищем опытного водителя-экспедитора для доставки грузов по городу и области.

Условия:
- Официальное трудоустройство
- График работы 5/2
- Конкурентная заработная плата
- Современный автопарк
- Корпоративная мобильная связь''',
                'requirements': '''- Водительские права категории C
- Опыт работы от 2 лет
- Ответственность и пунктуальность
- Знание города и области

Обязанности:
- Доставка грузов по городу и области
- Работа с сопроводительной документацией
- Контроль загрузки/разгрузки''',
                'salary_from': 1500,
                'salary_to': 2500
            },
            {
                'title': 'Логист',
                'description': '''Требуется опытный логист для работы в современной транспортной компании.

Условия:
- Работа в офисе в центре города
- График 5/2
- Полный соцпакет
- Возможности для профессионального роста
- Дружный коллектив''',
                'requirements': '''- Высшее образование
- Опыт работы в логистике от 1 года
- Знание ПК и специализированных программ
- Аналитический склад ума

Обязанности:
- Планирование маршрутов
- Координация водителей
- Оптимизация расходов
- Работа с клиентами''',
                'salary_from': 1800,
                'salary_to': 2800
            },
            {
                'title': 'Механик',
                'description': '''Приглашаем опытного механика для обслуживания автопарка компании.

Условия:
- Работа в современном автосервисе
- График 2/2
- Инструменты и спецодежда
- Возможность профессионального роста
- Достойная оплата труда''',
                'requirements': '''- Профильное образование
- Опыт работы с грузовой техникой от 3 лет
- Знание устройства грузовых автомобилей
- Ответственность и внимательность

Обязанности:
- Техническое обслуживание автопарка
- Диагностика и ремонт
- Ведение технической документации
- Контроль состояния транспорта''',
                'salary_from': 1600,
                'salary_to': 2600
            }
        ]

        for job_data in jobs:
            job = Job.objects.create(
                title=job_data['title'],
                description=job_data['description'],
                requirements=job_data['requirements'],
                salary_from=job_data['salary_from'],
                salary_to=job_data['salary_to'],
                is_active=True
            )
            self.stdout.write(self.style.SUCCESS(f'Created job: {job.title}'))

        self.stdout.write(self.style.SUCCESS('Successfully created all jobs')) 