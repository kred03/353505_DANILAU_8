from django.db import migrations
from django.utils import timezone

def add_initial_news(apps, schema_editor):
    News = apps.get_model('core', 'News')
    
    News.objects.create(
        title='Новые экологические стандарты для грузового транспорта',
        description='С 2024 года вводятся новые требования по экологическим стандартам для грузовых автомобилей. Что это значит для перевозчиков?',
        content='''В рамках программы по улучшению экологической обстановки с 2024 года вступают в силу новые требования к грузовому транспорту. 

Основные изменения:
• Все новые грузовые автомобили должны соответствовать стандарту Евро-6
• Компании получат налоговые льготы при переходе на электрические и гибридные грузовики
• Будут организованы специальные зоны для экологически чистого транспорта в крупных городах

Эти изменения направлены на снижение выбросов CO2 и улучшение качества воздуха в городах. Для транспортных компаний это означает необходимость постепенного обновления автопарка, но в долгосрочной перспективе позволит снизить расходы на топливо и получить преимущества при работе в городских зонах.''',
        is_published=True
    )
    
    News.objects.create(
        title='Внедрение технологий искусственного интеллекта в логистике',
        description='Как искусственный интеллект помогает оптимизировать маршруты и снижать затраты на грузоперевозки?',
        content='''Современные технологии искусственного интеллекта всё активнее внедряются в сферу грузоперевозок, помогая компаниям оптимизировать процессы и снижать затраты.

Основные преимущества использования ИИ в логистике:
• Автоматическое планирование оптимальных маршрутов с учетом трафика и погодных условий
• Прогнозирование спроса и загруженности транспорта
• Снижение расхода топлива благодаря оптимизации маршрутов
• Уменьшение времени простоя транспорта

По данным исследований, компании, внедрившие ИИ-решения в логистику, отмечают снижение затрат на перевозки до 15% и увеличение эффективности использования транспорта на 20%.''',
        is_published=True
    )

def remove_initial_news(apps, schema_editor):
    News = apps.get_model('core', 'News')
    News.objects.all().delete()

class Migration(migrations.Migration):
    dependencies = [
        ('core', '0014_alter_news_options_remove_news_image_url_and_more'),
    ]

    operations = [
        migrations.RunPython(add_initial_news, remove_initial_news),
    ] 